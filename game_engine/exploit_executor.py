from game_engine.sandbox import Sandbox

class ExploitExecutor:
    def __init__(self):
        # Set up the sandbox environment (e.g., Docker) for exploit execution
        self.sandbox = Sandbox()

    def execute_exploit(self, tempdir):
        # Compile and execute the player's exploit code in the sandboxed environment
        execution_result = self.sandbox.run_exploit_against_vulnerable_program(tempdir)
        return execution_result
    
    def enter_shell(self, vulnerable_code, tempdir):
        if vulnerable_code:
            self.sandbox.enter_shell_in_sandbox(vulnerable_code, tempdir)